<!DOCTYPE html>
<html lang="en" dir="ltr">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="description" content="Sentiment Analysis">
        <title>Sentiment Analysis</title>
        <script src="https://j3.healio.com/medialibrary/javascript/canvasjs.js"></script>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
        <style>
            * {
                color: #3a3a3a;
                font-family: 'Helvetica', sans-serif;
            }

            a {
                color: #267ca5;
            }

            p {
                margin: 0;
            }

            .container {
                margin: 10px auto;
                width: 60%;
            }

            .switch-buttons {
                margin: 25px 0;
            }

            .switch-buttons button {
                font-size: 16px;
            }

            .switch-buttons .overall {
                margin-left: -5px;
            }

            .overallSummary {
                margin-top: 450px;
            }

            @media only screen and (max-width: 1200px) {
                .container {
                    width: 100%;
                }
            }
        </style>
    </head>
  <body>
    <div>
        <div class="container">
            <h1>News Sentiment Analysis</h1>
            <h2>How Your Mind and Body Change in Midlife</h2>
            <p>A breakdown of the article from the New York Times by Dana G. Smith</p>
            <a href="https://www.nytimes.com/interactive/2024/06/24/well/live/midlife-health-body-changes-guide.html" target="_blank">See on NYTimes.org</a>
            <div class="switch-buttons">
                <button class="overall">All</button>
            </div>
            <div id="chartContainer1"></div>
            <div class="overallSummary">
                <p class="overview"><b>Overview: </b></p>
            </div>
        </div>
    </div>

  <script>

    let output1 = {"entities": {"people": ["Dana G. Smith", "Margie Lachman", "Scott Trappe", "Arun Karlamangla", "Stephanie Faubion", "Herman Pontzer", "Susan Roberts", "Holly Thomas", "Shalender Bhasin", "Alan Shindel", "Gagan Wig", "Susan Charles", "David Almeida", "Albert Tercero", "Deanna Donegan", "Hang Do Thi Duc"], "organizations": ["Brandeis University", "University of California", "Los Angeles", "Human Performance Laboratory", "Ball State University", "Mayo Clinic’s Center for Women’s Health", "The Menopause Society", "Science", "Duke University", "Geisel School of Medicine at Dartmouth", "Brigham and Women’s Hospital", "Boston", "American Urological Association", "University of California, San Francisco", "University of Pittsburgh", "Pennsylvania State University", "University of California, Irvine", "The Times"], "locations": ["Boston"]}, "overview": "The article discusses common health concerns associated with middle age, specifically targeting those aged 40 to 60. It addresses concerns like aches and pains, unexpected weight gain, perimenopause, decreased libido, memory loss, chronic diseases, and stress management. The article aims to debunk myths, provide reassurance that certain changes are natural, and emphasize the importance of proactive health measures like exercise, a balanced diet, and regular screenings. It also highlights the significance of mental well-being and healthy coping mechanisms during this life stage.", "keywords": {"drugs": ["Hormone therapy", "hormonal birth control", "testosterone therapy"], "specialties": ["psychology", "human bioenergetics", "geriatrics", "women’s health", "evolutionary anthropology", "medicine", "endocrinology", "urology", "clinical and translational science", "human development and family studies", "psychological science"], "insurance": [], "clinical": ["muscle soreness", "muscle mass", "joint pain", "bone density loss", "hot flashes", "night sweats", "irritability", "brain fog", "anxiety", "depression", "insomnia", "sleep disruption", "vaginal dryness", "low libido", "erectile dysfunction", "hypertension", "high cholesterol", "diabetes", "memory loss", "brain volume", "attention", "memory", "executive functioning", "cognition", "early onset dementia", "chronic diseases", "cancer", "cardiovascular disease", "blood pressure", "cholesterol", "pre-diabetes", "mammograms", "colonoscopies", "blood sugar tests", "bone density scans", "osteoporosis", "prostate cancer", "lung cancer", "stress", "burnout"], "misc": ["metabolism", "calorie restriction", "intermittent fasting", "longevity", "nutrition", "sleep", "social connections", "crystallized intelligence", "wisdom"]}, "sentiment": {"overall": "Neutral", "shift": "Slightly More Positive", "explanation": "The article initially presents common anxieties and concerns related to midlife health, adopting a neutral tone to explain the scientific basis for such changes. However, as the article progresses, it shifts to a slightly more positive tone, emphasizing that many of these concerns are manageable and offering proactive solutions. The article ends on a reassuring note, focusing on the positive aspects of aging, such as increased wisdom and life satisfaction in later adulthood.", "mood": [{"name": "Concerned", "color": "#A52A2A", "percentage": "30", "code": "3"}, {"name": "Informative", "color": "#89CFF0", "percentage": "40", "code": "2"}, {"name": "Hopeful", "color": "#50C878", "percentage": "30", "code": "1"}]}, "themes": [{"topic": "Aches and Pains", "summary": "Muscle soreness, joint pain, and bone density loss are common in midlife due to reduced activity, natural muscle decline, and hormonal changes (menopause in women). Exercise, including strength training and aerobic activity, is recommended to counteract these changes.", "sentiment": "Neutral", "mood": [{"name": "Concerned", "color": "#AA4A44", "percentage": "30", "code": "3"}, {"name": "Relieved", "color": "#4F7942", "percentage": "70", "code": "1"}]}, {"topic": "Weight Gain", "summary": "Weight gain in midlife is often attributed to a slowing metabolism, but research suggests it's more likely due to a gradual increase in calorie intake over time. Additionally, muscle loss and brain shrinkage can contribute to metabolic changes.", "sentiment": "Neutral", "mood": [{"name": "Anxious", "color": "#EE4B2B", "percentage": "40", "code": "3"}, {"name": "Curious", "color": "#7393B3", "percentage": "60", "code": "2"}]}, {"topic": "Perimenopause", "summary": "Perimenopause, the period before menopause, can last up to 10 years and cause fluctuating hormone levels, leading to hot flashes, night sweats, mood swings, and sleep disruptions. Hormone therapy or birth control can help manage these symptoms.", "sentiment": "Neutral", "mood": [{"name": "Overwhelmed", "color": "#880808", "percentage": "50", "code": "3"}, {"name": "Informed", "color": "#5F9EA0", "percentage": "50", "code": "2"}]}, {"topic": "Low Libido", "summary": "Decreased sex drive affects both men and women in midlife. In men, it can be related to declining testosterone or erectile dysfunction, while in women, it's often linked to hormonal changes, relationship factors, and stress.", "sentiment": "Neutral", "mood": [{"name": "Concerned", "color": "#D22B2B", "percentage": "40", "code": "3"}, {"name": "Understanding", "color": "#6495ED", "percentage": "60", "code": "2"}]}, {"topic": "Memory Loss", "summary": "Age-related memory decline is normal due to shrinking brain volume. However, lifestyle factors like exercise, nutrition, sleep, social connections, and mental stimulation can impact how quickly cognition changes.", "sentiment": "Neutral", "mood": [{"name": "Worried", "color": "#8B0000", "percentage": "20", "code": "3"}, {"name": "Optimistic", "color": "#228B22", "percentage": "80", "code": "1"}]}, {"topic": "Chronic Diseases", "summary": "The risk of developing chronic conditions like cardiovascular disease, cancer, and diabetes rises in middle age due to the cumulative effect of lifestyle factors, environmental exposures, and hormonal shifts. Regular screenings are essential for early detection and intervention.", "sentiment": "Neutral", "mood": [{"name": "Alert", "color": "#6F8FAF", "percentage": "60", "code": "2"}, {"name": "Proactive", "color": "#008000", "percentage": "40", "code": "1"}]}, {"topic": "Stress", "summary": "Midlife can be a stressful period due to caregiving responsibilities, career demands, and financial pressures. However, research suggests that people in midlife are generally better equipped to handle stress and may experience increased life satisfaction in later years.", "sentiment": "Slightly Positive", "mood": [{"name": "Stressed", "color": "#7B1818", "percentage": "30", "code": "3"}, {"name": "Confident", "color": "#4CBB17", "percentage": "70", "code": "1"}]}, {"topic": "Exercise", "summary": "Exercise is crucial for maintaining physical and cognitive health throughout midlife. Strength training helps prevent muscle loss and bone density decline, while aerobic exercise benefits cardiovascular health and overall well-being.", "sentiment": "Positive", "mood": [{"name": "Motivated", "color": "#0BDA51", "percentage": "100", "code": "1"}]}, {"topic": "Hormonal Changes", "summary": "Hormonal changes during perimenopause and menopause can significantly impact women's physical and emotional health. Hormone therapy can be an effective treatment option for managing symptoms.", "sentiment": "Neutral", "mood": [{"name": "Uncertain", "color": "#6082B6", "percentage": "50", "code": "2"}, {"name": "Reassured", "color": "#009E60", "percentage": "50", "code": "1"}]}, {"topic": "Life Satisfaction", "summary": "While midlife is often associated with a dip in life satisfaction, studies show that happiness tends to increase in later adulthood. This may be due to a reconciliation of expectations and achievements, leading to a more grateful and content outlook.", "sentiment": "Positive", "mood": [{"name": "Reflective", "color": "#ADD8E6", "percentage": "40", "code": "2"}, {"name": "Content", "color": "#00FF7F", "percentage": "60", "code": "1"}]}]}

    window.onload = function () {
  
    let overallSentiment = output1.sentiment
  
    let dataPoints = []
  
    let positiveMoods = overallSentiment.mood.filter(function(data){ return data.code == 1})
    let neutralMoods = overallSentiment.mood.filter(function(data){ return data.code == 2})
    let negativeMoods = overallSentiment.mood.filter(function(data){ return data.code == 3})
  
    for(i=0;i<positiveMoods.length;i++) {
      dataPoints.push({ y: positiveMoods[i].percentage, label: positiveMoods[i].name, color:positiveMoods[i].color, tooltip: positiveMoods[i].percentage.toString() + '%'})
    }
  
    for(i=0;i<neutralMoods.length;i++) {
      dataPoints.push({ y: neutralMoods[i].percentage, label: neutralMoods[i].name, color: neutralMoods[i].color, tooltip: neutralMoods[i].percentage.toString() + '%' })
    }
  
    for(i=0;i<negativeMoods.length;i++) {
      dataPoints.push({ y: negativeMoods[i].percentage, label: negativeMoods[i].name, color: negativeMoods[i].color, tooltip: negativeMoods[i].percentage.toString() + '%' })
    }

    let chart = new CanvasJS.Chart("chartContainer1", {
      animationEnabled: true,
      title:{
        text: "How Your Body and Mind Change in Midlife, New York Times",
        horizontalAlign: "left"
      },
      data: [{
        type: "doughnut",
        startAngle: 60,
        indexLabelFontSize: 17,
        indexLabel: "{label}",
        toolTipContent: "<b>{label}</b> - {tooltip}",
        dataPoints: dataPoints
      }]
    });
    chart.render();
  
      for(i=0;i<output1.themes.length;i++) {
        let theme = output1.themes[i].topic
        let sentiment = output1.themes[i].sentiment
        let summary = output1.themes[i].summary
        let mood = output1.themes[i].mood
        let button = document.createElement('button')
        button.classList.add('theme' + i)
        button.innerText = theme
        $('.switch-buttons').prepend(button)
  
        button.addEventListener('click', function(){
          let dataPoints = []
          positiveMoods = mood.filter(function(data){ return data.code == 1})
          neutralMoods = mood.filter(function(data){ return data.code == 2})
          negativeMoods = mood.filter(function(data){ return data.code == 3})
  
          for(j=0;j<positiveMoods.length;j++) {
            dataPoints.push({ y: positiveMoods[j].percentage, label: positiveMoods[j].name, color:positiveMoods[j].color, tooltip: positiveMoods[j].percentage.toString() + '%' })
          }
  
          for(j=0;j<neutralMoods.length;j++) {
            dataPoints.push({ y: neutralMoods[j].percentage, label: neutralMoods[j].name, color: neutralMoods[j].color, tooltip: neutralMoods[j].percentage.toString() + '%'})
          }
  
          for(j=0;j<negativeMoods.length;j++) {
            dataPoints.push({ y: negativeMoods[j].percentage, label: negativeMoods[j].name, color: negativeMoods[j].color, tooltip: negativeMoods[j].percentage.toString() + '%'})
          }
  
          chart.options.data[0].dataPoints = dataPoints
          chart.options.title.text = theme
          chart.render()
  
          $('.overview').html('<b>Overview:</b> ' + summary)
        })
      }

      $('.overall').on('click', function(e){
        let dataPoints = []
  
        let positiveMoods = overallSentiment.mood.filter(function(data){ return data.code == 1})
        let neutralMoods = overallSentiment.mood.filter(function(data){ return data.code == 2})
        let negativeMoods = overallSentiment.mood.filter(function(data){ return data.code == 3})
    
        for(i=0;i<positiveMoods.length;i++) {
        dataPoints.push({ y: positiveMoods[i].percentage, label: positiveMoods[i].name, color:positiveMoods[i].color, tooltip: positiveMoods[i].percentage.toString() + '%'})
        }
    
        for(i=0;i<neutralMoods.length;i++) {
        dataPoints.push({ y: neutralMoods[i].percentage, label: neutralMoods[i].name, color: neutralMoods[i].color, tooltip: neutralMoods[i].percentage.toString() + '%' })
        }
    
        for(i=0;i<negativeMoods.length;i++) {
        dataPoints.push({ y: negativeMoods[i].percentage, label: negativeMoods[i].name, color: negativeMoods[i].color, tooltip: negativeMoods[i].percentage.toString() + '%' })
        }

        chart.options.data[0].dataPoints = dataPoints
        chart.options.title.text = 'How Your Body and Mind Change in Midlife, New York Times'
        chart.render()

        $('.overview').html('<b>Overview:</b> ' + output1.overview)
      })
    }

    $('.overallSummary .overview').append(output1.overview)
  
  </script>
  
  
  </body>
  </html>